QA output created by 259
No errors here ...

# instantaneous
derived.inst = delta(sample.longlong.million)
# counter
derived.ctr = delta(sampledso.recv_pdu)

pmRegisterDerived: register metric[0] event.flags = anon(PM_TYPE_U32)
pmRegisterDerived: register metric[1] event.missed = anon(PM_TYPE_U32)
Derived metric initialization from $PCP_DERIVED_CONFIG
pmLoadDerivedConfig("TMP.config")
pmRegisterDerived: register metric[2] derived.inst = delta(sample.longlong.million)
pmRegisterDerived: register metric[3] derived.ctr = delta(sampledso.recv_pdu)
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  2.0.21 (pmcd.hostname): numval: 1 valfmt: 1 vlist[]:
   value "HOST"
Note: timezone set to "TZ=UTC"

__dmgetpmid: metric "derived.inst" -> PMID 511.0.3
__dmgetpmid: metric "derived.inst" -> PMID 511.0.3
__dmbind: bind metric[2] derived.inst
metric:    derived.inst
host:      HOST
semantics: instantaneous value
units:     none
samples:   4
interval:  0.25 sec
derived metrics prefetch added 1 metrics: 29.0.23
__dmpostfetch: [0] root node 511.0.3: numval=0
expr node <addr> type=DELTA left=<addr> right=(nil) save_last=0
    PMID: PM_ID_NULL (511.0.3 from pmDesc) numval: 0
    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: none
expr node <addr> type=NAME left=(nil) right=(nil) save_last=1 [sample.longlong.million] master=0
    PMID: 29.0.23 (29.0.23 from pmDesc) numval: 1
    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: none
[0] inst=-1, val=<number>
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  511.0.3 (derived.inst): No values returned!
No values available
derived metrics prefetch added 1 metrics: 29.0.23
__dmpostfetch: [0] root node 511.0.3: numval=1 vset[0]: inst=-1 ll=0
expr node <addr> type=DELTA left=<addr> right=(nil) save_last=0
    PMID: PM_ID_NULL (511.0.3 from pmDesc) numval: 1
    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: none
[0] inst=-1, val=<number>
expr node <addr> type=NAME left=(nil) right=(nil) save_last=1 [sample.longlong.million] master=0
    PMID: 29.0.23 (29.0.23 from pmDesc) numval: 1
    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: none
[0] inst=-1, val=<number> (last inst=-1, val=<number>)
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  511.0.3 (derived.inst): numval: 1 valfmt: 1 vlist[]:
   value 0
                    0
derived metrics prefetch added 1 metrics: 29.0.23
__dmpostfetch: [0] root node 511.0.3: numval=1 vset[0]: inst=-1 ll=0
expr node <addr> type=DELTA left=<addr> right=(nil) save_last=0
    PMID: PM_ID_NULL (511.0.3 from pmDesc) numval: 1
    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: none
[0] inst=-1, val=<number>
expr node <addr> type=NAME left=(nil) right=(nil) save_last=1 [sample.longlong.million] master=0
    PMID: 29.0.23 (29.0.23 from pmDesc) numval: 1
    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: none
[0] inst=-1, val=<number> (last inst=-1, val=<number>)
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  511.0.3 (derived.inst): numval: 1 valfmt: 1 vlist[]:
   value 0
                    0
derived metrics prefetch added 1 metrics: 29.0.23
__dmpostfetch: [0] root node 511.0.3: numval=1 vset[0]: inst=-1 ll=0
expr node <addr> type=DELTA left=<addr> right=(nil) save_last=0
    PMID: PM_ID_NULL (511.0.3 from pmDesc) numval: 1
    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: none
[0] inst=-1, val=<number>
expr node <addr> type=NAME left=(nil) right=(nil) save_last=1 [sample.longlong.million] master=0
    PMID: 29.0.23 (29.0.23 from pmDesc) numval: 1
    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: none
[0] inst=-1, val=<number> (last inst=-1, val=<number>)
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  511.0.3 (derived.inst): numval: 1 valfmt: 1 vlist[]:
   value 0
                    0

pmRegisterDerived: register metric[0] event.flags = anon(PM_TYPE_U32)
pmRegisterDerived: register metric[1] event.missed = anon(PM_TYPE_U32)
Derived metric initialization from $PCP_DERIVED_CONFIG
pmLoadDerivedConfig("TMP.config")
pmRegisterDerived: register metric[2] derived.inst = delta(sample.longlong.million)
pmRegisterDerived: register metric[3] derived.ctr = delta(sampledso.recv_pdu)
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  2.0.21 (pmcd.hostname): numval: 1 valfmt: 1 vlist[]:
   value "HOST"
Note: timezone set to "TZ=UTC"

__dmgetpmid: metric "derived.ctr" -> PMID 511.0.4
__dmgetpmid: metric "derived.ctr" -> PMID 511.0.4
__dmbind: bind metric[3] derived.ctr
metric:    derived.ctr
host:      HOST
semantics: instantaneous value
units:     count
samples:   4
interval:  0.25 sec
derived metrics prefetch added 1 metrics: 30.0.41
__dmpostfetch: [0] root node 511.0.4: numval=0
expr node <addr> type=DELTA left=<addr> right=(nil) save_last=0
    PMID: PM_ID_NULL (511.0.4 from pmDesc) numval: 0
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: count
expr node <addr> type=NAME left=(nil) right=(nil) save_last=1 [sampledso.recv_pdu] master=0
    PMID: 30.0.41 (30.0.41 from pmDesc) numval: 1
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: counter  Units: count
[0] inst=-1, val=<number>
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  511.0.4 (derived.ctr): No values returned!
No values available
derived metrics prefetch added 1 metrics: 30.0.41
__dmpostfetch: [0] root node 511.0.4: numval=1 vset[0]: inst=-1 u=1
expr node <addr> type=DELTA left=<addr> right=(nil) save_last=0
    PMID: PM_ID_NULL (511.0.4 from pmDesc) numval: 1
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: count
[0] inst=-1, val=<number>
expr node <addr> type=NAME left=(nil) right=(nil) save_last=1 [sampledso.recv_pdu] master=0
    PMID: 30.0.41 (30.0.41 from pmDesc) numval: 1
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: counter  Units: count
[0] inst=-1, val=<number> (last inst=-1, val=<number>)
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  511.0.4 (derived.ctr): numval: 1 valfmt: 0 vlist[]:
   value 1
          1
derived metrics prefetch added 1 metrics: 30.0.41
__dmpostfetch: [0] root node 511.0.4: numval=1 vset[0]: inst=-1 u=1
expr node <addr> type=DELTA left=<addr> right=(nil) save_last=0
    PMID: PM_ID_NULL (511.0.4 from pmDesc) numval: 1
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: count
[0] inst=-1, val=<number>
expr node <addr> type=NAME left=(nil) right=(nil) save_last=1 [sampledso.recv_pdu] master=0
    PMID: 30.0.41 (30.0.41 from pmDesc) numval: 1
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: counter  Units: count
[0] inst=-1, val=<number> (last inst=-1, val=<number>)
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  511.0.4 (derived.ctr): numval: 1 valfmt: 0 vlist[]:
   value 1
          1
derived metrics prefetch added 1 metrics: 30.0.41
__dmpostfetch: [0] root node 511.0.4: numval=1 vset[0]: inst=-1 u=1
expr node <addr> type=DELTA left=<addr> right=(nil) save_last=0
    PMID: PM_ID_NULL (511.0.4 from pmDesc) numval: 1
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: instant  Units: count
[0] inst=-1, val=<number>
expr node <addr> type=NAME left=(nil) right=(nil) save_last=1 [sampledso.recv_pdu] master=0
    PMID: 30.0.41 (30.0.41 from pmDesc) numval: 1
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: counter  Units: count
[0] inst=-1, val=<number> (last inst=-1, val=<number>)
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  511.0.4 (derived.ctr): numval: 1 valfmt: 0 vlist[]:
   value 1
          1

Errors and empty results here ...

myname.a = delta(
myname.b = delta + 3
myname.c = delta(sample.long.one + sample.long.hundred)
myname.d = delta(12345)

pmRegisterDerived: register metric[0] event.flags = anon(PM_TYPE_U32)
pmRegisterDerived: register metric[1] event.missed = anon(PM_TYPE_U32)
Derived metric initialization from $PCP_DERIVED_CONFIG
pmLoadDerivedConfig("TMP.config")
[TMP.config:1] Error: pmRegisterDerived(myname.a, ...) syntax error
 delta(
      ^
Metric name expected to follow delta(
pmRegisterDerived: register metric[2] myname.b = delta + 3
[TMP.config:3] Error: pmRegisterDerived(myname.c, ...) syntax error
 delta(sample.long.one + sample.long.hundred)
                       ^                     
Metric name expected to follow delta(
[TMP.config:4] Error: pmRegisterDerived(myname.d, ...) syntax error
 delta(12345)
       ^     
Metric name expected to follow delta(
pmFetch returns ...
TIMESTAMP ... numpmid: 1
  2.0.21 (pmcd.hostname): numval: 1 valfmt: 1 vlist[]:
   value "HOST"
Note: timezone set to "TZ=UTC"

__dmgetpmid: metric "myname" -> Unknown metric name
pmval: pmLookupName(myname): Unknown metric name
